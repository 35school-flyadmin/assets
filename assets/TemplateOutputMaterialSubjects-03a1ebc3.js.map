{"version":3,"file":"TemplateOutputMaterialSubjects-03a1ebc3.js","sources":["../../src/components/structure/MaterialCard.jsx","../../src/components/layout/MaterialsContainer.jsx","../../src/components/layout/TemplateOutputMaterialSubjects.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\nimport {urlBuilder} from \"../../additional.js\";\r\nimport classNames from \"../../any/classNames.js\";\r\n\r\nfunction MaterialCard(props){\r\n    const {title, description, image, link, file} = props;\r\n    return (\r\n        <MaterialCardBox>\r\n            <div className=\"wallpaper\">\r\n                <div className=\"image\">\r\n                    <img src={urlBuilder(image)} alt={title}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"content\">\r\n                {title?.length > 0 && (\r\n                    <div className=\"title\">{title}</div>\r\n                )}\r\n                <div className={classNames('description', (description?.length === 0 && 'disabled'))}>{description}</div>\r\n                <div className=\"actions\">\r\n                {link && (\r\n                        <a href={link} target=\"_blank\">Перейти</a>\r\n                    )}\r\n                    {file && (\r\n                        <a href={file} download={`${title}.${file?.split('.')?.at(-1).trim()}`}>Скачать</a>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </MaterialCardBox>\r\n    );\r\n}\r\n\r\nMaterialCard.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n    image: PropTypes.string.isRequired,\r\n    link: PropTypes.string,\r\n    file: PropTypes.string\r\n}\r\nconst MaterialCardBox = styled.div`\r\n    display: flex;\r\n    background-color: #FFFFFF;\r\n    position: relative;\r\n    width: calc(100% - 2px);\r\n    flex-direction: column;\r\n    flex: 1;\r\n    border-radius: 6px;\r\n    transition: all 0.3s ease;\r\n    border: 1px solid #E1E1E1;\r\n    align-items: stretch;\r\n    &:hover {\r\n        box-shadow: 3px 3px 5px rgba(23, 23, 23, 0.1);\r\n    }\r\n    &:hover > div.wallpaper > div.image > img {\r\n        transform: scale(1.1);\r\n    }\r\n    & > div.wallpaper {\r\n        display: flex;\r\n        position: relative;\r\n        width: 100%;\r\n        flex-direction: column;\r\n        margin-bottom: 10px;\r\n        height: 160px;\r\n\r\n        & > div.image {\r\n            display: flex;\r\n            position: relative;\r\n            width: 100%;\r\n            max-height: 160px;\r\n            border-radius: 3px 3px 0 0;\r\n            border-bottom: 3px solid rgb(33, 150, 83);\r\n            overflow: hidden;\r\n\r\n            & > img {\r\n                display: block;\r\n                width: 100%;\r\n                height: 160px;\r\n                object-fit: cover;\r\n                border-radius: 3px 3px 0 0;\r\n                transition: transform 0.3s ease;\r\n            }\r\n\r\n            &::after {\r\n                display: flex;\r\n                content: \" \";\r\n                height: 100%;\r\n                width: 100%;\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                background: linear-gradient(135deg, rgba(195, 236, 82, 0.1) 0%, rgba(11, 162, 157, 0.3) 100%);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    & > div.content {\r\n        flex-grow: 1;\r\n        width: calc(100% - 2em);\r\n        position: relative;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: flex-start;\r\n        padding: 0 1em 1em;\r\n\r\n        & > div.title {\r\n            margin-top: 10px;\r\n            margin-bottom: 15px;\r\n            font-weight: 500;\r\n            color: #219653;\r\n            font-size: 18px;\r\n            text-align: center;\r\n        }\r\n\r\n        & > div.description {\r\n            width: 100%;\r\n            margin-bottom: 10px;\r\n            flex-grow: 1;\r\n            font-size: 14px;\r\n            color: #333;\r\n            text-align: justify;\r\n            word-wrap: break-word;\r\n\r\n            &.disabled {\r\n                visibility: hidden;\r\n            }\r\n        }\r\n\r\n        & > div.actions {\r\n            display: flex;\r\n            width: 100%;\r\n            flex-direction: row;\r\n            justify-content: flex-end;\r\n\r\n            & > a {\r\n                border: none;\r\n                font-size: 16px;\r\n                cursor: pointer;\r\n                color: #FFFFFF;\r\n                background-color: rgb(33, 150, 83);\r\n                text-decoration: none;\r\n                padding: 10px 20px;\r\n                border-radius: 4px;\r\n                transition: all 0.2s ease;\r\n\r\n                &:hover {\r\n                    transform: scale(1.01);\r\n                    filter: drop-shadow(3px 3px 5px rgba(33, 150, 83, 0.5));\r\n                }\r\n\r\n                &:active {\r\n                    transform: scale(0.99);\r\n                    filter: drop-shadow(3px 3px 5px rgba(33, 150, 83, 0.15));\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\nexport default MaterialCard;\r\n\r\n\r\n/*\r\n<div key={index} className=\"materials-list-item\"\r\n                             style={{backgroundImage: `url(${`https://35school.flyadmin.ru` + item.image})`}}>\r\n                            <div className=\"materials-list-item-text\">\r\n                                <div className=\"materials-list-item-title\">\r\n                                    {item.title}\r\n                                </div>\r\n                                <div className=\"materials-list-item-description\">\r\n                                    {item.description}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"teachers-list-item-action\">\r\n                                {(item.link.type === `FILE` && (\r\n                                    <a href={`#`} download={`https://35school.flyadmin.ru` + item.link.url}>Скачать</a>\r\n                                )) || (\r\n                                    <a target={`_blank`} href={item.link.url}>Открыть</a>\r\n                                )}\r\n\r\n                            </div>\r\n                        </div>\r\n */","import styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\nimport MaterialCard from \"../structure/MaterialCard.jsx\";\r\n\r\nfunction MaterialContainer({items, title}) {\r\n    return (\r\n        <Material_Container>\r\n            <Material_Container_Title>\r\n                <h2>{title}</h2>\r\n            </Material_Container_Title>\r\n            <Material_Container_Box>\r\n                {items.length > 0 && items.map((item, index) => (\r\n                    <Material_Container_Box_Card key={item.title + '__' + index}>\r\n                        <MaterialCard title={item.title} image={item.image}\r\n                                      description={item.description}\r\n                                      link={item.link.type === `LINK` && item.link.url || ''}\r\n                                      file={item.link.type === `FILE` && item.link.url || ''}/>\r\n                    </Material_Container_Box_Card>\r\n                ))}\r\n                {items.length === 0 && (\r\n                    <p>Список пуст</p>\r\n                )}\r\n\r\n            </Material_Container_Box>\r\n        </Material_Container>\r\n    )\r\n}\r\n\r\nMaterialContainer.propTypes = {\r\n    items: PropTypes.array,\r\n    title: PropTypes.string\r\n}\r\nexport default MaterialContainer;\r\nconst Material_Container = styled.div`\r\n    display: flex;\r\n    position: relative;\r\n    flex-direction: column;\r\n    width: calc(100% - 40px);\r\n    margin: 0 auto 20px auto;\r\n    max-width: 1600px;\r\n    padding: 0 20px;\r\n    \r\n    @media screen and (max-width: 319px) {\r\n        \r\n    }\r\n    @media screen and (max-width: 480px) and (min-width: 320px) {\r\n        \r\n    }\r\n    @media screen and (max-width: 767px) and (min-width: 481px) {\r\n       \r\n    }\r\n    @media screen and (max-width: 1024px) and (min-width: 768px) {\r\n   \r\n    }\r\n    @media screen and (max-width: 1199px) and (min-width: 1025px) {\r\n     \r\n    }\r\n    @media screen and (max-width: 1919px) and (min-width: 1200px) {  ;\r\n        \r\n    }\r\n    @media screen and (min-width: 1920px) {\r\n    }\r\n`;\r\nconst Material_Container_Title = styled.div`\r\n    display: flex;\r\n    position: relative;\r\n    width: 100%;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    & > h2 {\r\n        font-size: 26px;\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 10px;\r\n        color: #232323;\r\n        padding: 0;\r\n        margin: 5px 0 20px;\r\n\r\n        &::before,\r\n        &::after\r\n        {\r\n            display: flex;\r\n            height: 6px;\r\n            width: 6px;\r\n            background: rgb(33, 150, 83);\r\n            content: \" \";\r\n            border-radius: 5px;\r\n        }\r\n    }\r\n`;\r\nconst Material_Container_Box = styled.div`\r\n    display: flex;\r\n    position: relative;\r\n    flex-direction: row;\r\n    gap: 20px;\r\n    flex-wrap: wrap;\r\n    align-items: stretch;\r\n    justify-content: center;\r\n`;\r\nconst Material_Container_Box_Card = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    flex-basis: calc(100% - calc(20px * 0 / 1));\r\n    align-items: stretch;\r\n    @media screen and (max-width: 319px) {\r\n        flex-basis: calc(100% - calc(20px * 0 / 1));\r\n    }\r\n    @media screen and (max-width: 480px) and (min-width: 320px) {\r\n        flex-basis: calc(100% - calc(20px * 0 / 1));\r\n    }\r\n    @media screen and (max-width: 767px) and (min-width: 481px) {\r\n        flex-basis: calc(100% / 2 - calc(20px * 1 / 2));\r\n    }\r\n    @media screen and (max-width: 1024px) and (min-width: 768px) {\r\n        flex-basis: calc(100% / 3 - calc(20px * 2 / 3));\r\n    }\r\n    @media screen and (max-width: 1199px) and (min-width: 1025px) {\r\n        flex-basis: calc(100% / 4 - calc(20px * 3 / 4));\r\n    }\r\n    @media screen and (max-width: 1919px) and (min-width: 1200px) {\r\n        flex-basis: calc(100% / 4 - calc(20px * 3 / 4));\r\n    }\r\n    @media screen and (min-width: 1920px) {\r\n        flex-basis: calc(100% / 5 - calc(20px * 4 / 5));\r\n    }\r\n`;","import PropTypes from \"prop-types\";\r\nimport {useCallback, useEffect, useState} from \"react\";\r\nimport {getLastVersion} from \"../../any/versions.jsx\";\r\nimport Filter from \"../Filter.jsx\";\r\nimport MaterialContainer from \"./MaterialsContainer.jsx\";\r\nimport styled from \"styled-components\";\r\n\r\nfunction TemplateOutputMaterialSubjects(props) {\r\n    const {jsonPath} = props;\r\n    const [items, labels, filter, label, onChangeFilter, loader] = useFilters(jsonPath);\r\n    if (loader) return (\r\n        <LoaderComponent>\r\n            <img src=\"/images/loader.svg\" alt=\"loading\"/>\r\n        </LoaderComponent>\r\n    )\r\n    return (\r\n        <>\r\n            <Filter items={labels} active={filter} onChange={onChangeFilter}/>\r\n            <MaterialContainer title={label()} items={items}/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst LoaderComponent = styled.div`\r\n    width: 100%;\r\n    padding: 10px 0;\r\n    display: flex;\r\n    flex-direction: row;\r\n    position: relative;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nfunction useFilters(jsonUrl) {\r\n    const [loader, setLoader] = useState(true);\r\n    const [filter, setFilter] = useState();\r\n    const [list, setList] = useState({});\r\n    const [labels, setLabels] = useState([]);\r\n    const [items, setItems] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getData() {\r\n            try {\r\n                setLoader(true);\r\n                const request = await fetch(`${jsonUrl}?v=${getLastVersion()}`);\r\n                const response = await request.json();\r\n                setList(response);\r\n                setLabels(Object.keys(response).map(item => ({value: item, title: response?.[item].title})))\r\n            } catch (error) {\r\n                console.log('error')\r\n            } finally {\r\n                //\r\n                setTimeout(() => setLoader(false), 300)\r\n            }\r\n        }\r\n\r\n        jsonUrl && getData();\r\n\r\n    }, [jsonUrl])\r\n    useEffect(() => {\r\n        labels.length > 0 && setFilter(labels[0]?.value)\r\n    }, [labels]);\r\n\r\n    useEffect(() => {\r\n        if (Object.keys(list).length > 0 && filter) {\r\n            setItems(list?.[filter].items);\r\n        }\r\n    }, [list, filter]);\r\n\r\n    function onChangeFilter(value) {\r\n        if (value !== filter) setFilter(value);\r\n    }\r\n\r\n    const getCurrentLabel = useCallback(() => {\r\n        return labels.find(item => item.value === filter)?.title;\r\n    }, [labels, filter])\r\n\r\n    return [items, labels, filter, getCurrentLabel, onChangeFilter, loader];\r\n\r\n}\r\n\r\nTemplateOutputMaterialSubjects.propTypes = {\r\n    jsonPath: PropTypes.string.isRequired\r\n}\r\nexport default TemplateOutputMaterialSubjects;"],"names":["MaterialCard","props","title","description","image","link","file","MaterialCardBox","children","jsx","className","src","urlBuilder","alt","jsxs","length","classNames","href","target","download","_a","split","at","trim","propTypes","PropTypes","string","isRequired","styled","div","MaterialContainer","items","Material_Container","Material_Container_Title","Material_Container_Box","map","item","index","Material_Container_Box_Card","type","url","array","TemplateOutputMaterialSubjects","jsonPath","labels","filter","label","onChangeFilter","loader","jsonUrl","setLoader","useState","setFilter","list","setList","setLabels","setItems","value","useEffect","async","getData","request","fetch","getLastVersion","response","json","Object","keys","error","console","log","setTimeout","getCurrentLabel","useCallback","find","useFilters","LoaderComponent","Fragment","Filter","active","onChange"],"mappings":"2SAKA,SAASA,EAAaC,SAClB,MAAMC,MAACA,EAAOC,YAAAA,EAAAC,MAAaA,EAAOC,KAAAA,EAAAC,KAAMA,GAAQL,WAE3CM,EACG,CAAAC,SAAA,CAAAC,EAAC,OAAIC,UAAU,YACXF,SAACC,EAAA,MAAA,CAAIC,UAAU,QACXF,WAAC,MAAI,CAAAG,IAAKC,EAAWR,GAAQS,IAAKX,QAGzCY,EAAA,MAAI,CAAAJ,UAAU,UACVF,SAAA,EAAA,MAAAN,OAAA,EAAAA,EAAOa,QAAS,GACZN,EAAA,MAAI,CAAAC,UAAU,QAASF,SAAMN,IAEjCO,EAAA,MAAI,CAAAC,UAAWM,EAAW,cAAwC,KAAX,MAAbb,OAAa,EAAAA,EAAAY,SAAgB,YAAeP,SAAYL,IAClGW,EAAA,MAAI,CAAAJ,UAAU,UACdF,SAAA,CAAAH,GACQI,EAAA,IAAE,CAAAQ,KAAMZ,EAAMa,OAAO,SAASV,SAAO,YAEzCF,KACI,IAAA,CAAEW,KAAMX,EAAMa,SAAU,GAAGjB,KAAS,OAAAkB,mBAAMC,MAAM,eAAMC,IAAG,GAAIC,SAAUf,SAAO,oBAMvG,CAEAR,EAAawB,UAAY,CACrBtB,MAAOuB,EAAUC,OAAOC,WACxBxB,YAAasB,EAAUC,OACvBtB,MAAOqB,EAAUC,OAAOC,WACxBtB,KAAMoB,EAAUC,OAChBpB,KAAMmB,EAAUC,QAEpB,MAAMnB,EAAkBqB,EAAOC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECnC/B,SAASC,GAAkBC,MAACA,EAAO7B,MAAAA,aAE1B8B,EACG,CAAAxB,SAAA,CAAAC,EAACwB,EACG,CAAAzB,SAAAC,EAAC,KAAI,CAAAD,SAAAN,QAERgC,EACI,CAAA1B,SAAA,CAAMuB,EAAAhB,OAAS,GAAKgB,EAAMI,KAAI,CAACC,EAAMC,MACjCC,EACG,CAAA9B,SAAAC,EAACT,EAAA,CAAaE,MAAOkC,EAAKlC,MAAOE,MAAOgC,EAAKhC,MAC/BD,YAAaiC,EAAKjC,YAClBE,KAAyB,SAAnB+B,EAAK/B,KAAKkC,MAAmBH,EAAK/B,KAAKmC,KAAO,GACpDlC,KAAyB,SAAnB8B,EAAK/B,KAAKkC,MAAmBH,EAAK/B,KAAKmC,KAAO,MAJpCJ,EAAKlC,MAAQ,KAAOmC,KAOxC,IAAjBN,EAAMhB,QACHN,EAAC,KAAED,SAAW,qBAMlC,CAEAsB,EAAkBN,UAAY,CAC1BO,MAAON,EAAUgB,MACjBvC,MAAOuB,EAAUC,QAGrB,MAAMM,EAAqBJ,EAAOC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA8B5BI,EAA2BL,EAAOC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;EA2BlCK,EAAyBN,EAAOC,GAAA;;;;;;;;EAShCS,EAA8BV,EAAOC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;EC5F3C,SAASa,EAA+BzC,GAC9B,MAAA0C,SAACA,GAAY1C,GACZ8B,EAAOa,EAAQC,EAAQC,EAAOC,EAAgBC,GAyBzD,SAAoBC,GAChB,MAAOD,EAAQE,GAAaC,YAAS,IAC9BN,EAAQO,GAAaD,EAASA,YAC9BE,EAAMC,GAAWH,EAAAA,SAAS,CAAE,IAC5BP,EAAQW,GAAaJ,EAAAA,SAAS,KAC9BpB,EAAOyB,GAAYL,EAAAA,SAAS,IA+BnC,SAASJ,EAAeU,GAChBA,IAAUZ,GAAQO,EAAUK,EACpC,CA/BAC,EAAAA,WAAU,KACNC,eAAeC,IACP,IACAV,GAAU,GACJ,MAAAW,QAAgBC,MAAM,GAAGb,OAAac,OACtCC,QAAiBH,EAAQI,OAC/BX,EAAQU,GACRT,EAAUW,OAAOC,KAAKH,GAAU7B,KAAaC,IAAA,CAACqB,MAAOrB,EAAMlC,MAAO,MAAA8D,OAAA,EAAAA,EAAW5B,GAAMlC,iBAC9EkE,GACLC,QAAQC,IAAI,QAAO,CACrB,QAEEC,YAAW,IAAMrB,GAAU,IAAQ,IACvC,CACJ,CAEAD,GAAWW,GAAQ,GAEpB,CAACX,IACJS,EAAAA,WAAU,WACNd,EAAO7B,OAAS,GAAKqC,EAAU,OAAAhC,IAAO,aAAIqC,MAAK,GAChD,CAACb,IAEJc,EAAAA,WAAU,KACFQ,OAAOC,KAAKd,GAAMtC,OAAS,GAAK8B,GACvBW,EAAA,MAAAH,OAAA,EAAAA,EAAOR,GAAQd,MAC5B,GACD,CAACsB,EAAMR,IAMJ,MAAA2B,EAAkBC,EAAAA,aAAY,WACzB,OAAA,OAAArD,EAAAwB,EAAO8B,MAAKtC,GAAQA,EAAKqB,QAAUZ,UAAS,EAAAzB,EAAAlB,KAAA,GACpD,CAAC0C,EAAQC,IAEZ,MAAO,CAACd,EAAOa,EAAQC,EAAQ2B,EAAiBzB,EAAgBC,EAEpE,CAvEmE2B,CAAWhC,GACtE,OAAAK,EACCvC,EAAAmE,GACGpE,SAACC,EAAA,MAAA,CAAIE,IAAI,qBAAqBE,IAAI,cAKlCC,EAAA+D,EAAA,CAAArE,SAAA,CAAAC,EAACqE,GAAO/C,MAAOa,EAAQmC,OAAQlC,EAAQmC,SAAUjC,MAChDjB,EAAA,CAAkB5B,MAAO4C,IAASf,YAI/C,CAEA,MAAM6C,EAAkBhD,EAAOC,GAAA;;;;;;;;EA0D/Ba,EAA+BlB,UAAY,CACvCmB,SAAUlB,EAAUC,OAAOC"}